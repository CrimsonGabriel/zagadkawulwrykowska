<!-- Plik login.html -->
<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Logowanie Wulwryka</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="icon" href="../sg.ico" type="image/webp">

  <script>
    const allowed = localStorage.getItem("allowLogin");

    if (!allowed) {
      document.write(`
        <title>403 Forbidden</title>
        <style>
          body {
            background: #000;
            color: white;
            font-family: sans-serif;
            text-align: center;
            padding-top: 100px;
          }
        </style>
      </head><body>
        <h1 style="color:red; font-size: 36px;">‚õî 403 - Brak dostƒôpu</h1>
        <p style="font-size: 18px;">Musisz najpierw wej≈õƒá przez stronƒô g≈Ç√≥wnƒÖ.</p>
      `);
      throw new Error("403 - Brak dostƒôpu");
    } else {
      document.write(`
      </head><body>
        <div id="login-wrapper">
          <h1>üîê Logowanie dla GM'a</h1>
          <div id="login-form">
            <input type="text" id="login" placeholder="Login"><br>
            <input type="password" id="password" placeholder="Has≈Ço"><br>
            <button onclick="login()">Zaloguj</button>
            <p id="login-error" style="color:red;"></p>
          </div>
        </div>
        <script>
          const ALLOWED_LOGIN = "wulwryczek";
          const ALLOWED_PASS = "zagadkowo2137";
          function login() {
            const login = document.getElementById("login").value.trim();
            const password = document.getElementById("password").value.trim();
            if (login === ALLOWED_LOGIN && password === ALLOWED_PASS) {
              localStorage.setItem("isGM", "true");
              localStorage.removeItem("allowLogin");
              window.location.href = "index.html";
            } else {
              document.getElementById("login-error").innerText = "B≈Çƒôdny login lub has≈Ço!";
            }
          }
        <\/script>
      `);
    }
  </script>
</head>
</html>
